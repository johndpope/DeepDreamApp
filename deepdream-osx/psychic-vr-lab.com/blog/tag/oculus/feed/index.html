<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Psychic VRラボの殴り書き &#187; Oculus</title>
	<atom:link href="http://psychic-vr-lab.com/blog/tag/oculus/feed/" rel="self" type="application/rss+xml" />
	<link>http://psychic-vr-lab.com/blog</link>
	<description>Unity, Oculus rift, Leap motion, Kinect技術メモ</description>
	<lastBuildDate>Fri, 03 Jul 2015 00:39:36 +0000</lastBuildDate>
	<language>ja</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=4.1.5</generator>
	<item>
		<title>Final IKアセットでキャラクターのぶら下げ方（Unity）</title>
		<link>http://psychic-vr-lab.com/blog/unity/final-ik%e3%82%a2%e3%82%bb%e3%83%83%e3%83%88%e3%81%a7unity%e3%81%a1%e3%82%83%e3%82%93%e3%82%92%e5%90%8a%e3%82%8b%e3%81%97%e3%81%a6%e8%a7%a6%e3%82%8b/</link>
		<comments>http://psychic-vr-lab.com/blog/unity/final-ik%e3%82%a2%e3%82%bb%e3%83%83%e3%83%88%e3%81%a7unity%e3%81%a1%e3%82%83%e3%82%93%e3%82%92%e5%90%8a%e3%82%8b%e3%81%97%e3%81%a6%e8%a7%a6%e3%82%8b/#comments</comments>
		<pubDate>Thu, 13 Nov 2014 09:54:36 +0000</pubDate>
		<dc:creator><![CDATA[from2001]]></dc:creator>
				<category><![CDATA[Leap motion]]></category>
		<category><![CDATA[Unity]]></category>
		<category><![CDATA[Asset]]></category>
		<category><![CDATA[Final IK]]></category>
		<category><![CDATA[Leapmotion]]></category>
		<category><![CDATA[Oculus]]></category>
		<category><![CDATA[アセット]]></category>

		<guid isPermaLink="false">http://psychic-vr-lab.com/blog/?p=189</guid>
		<description><![CDATA[今日はInverse Kinematics (IK)を使って、ユニティちゃんを上からぶら下げてみたいと思います。 &#160; Inverse Kinematics (IK)とは 引用元：Unityユーザーズガイド ジョ<span class="ellipsis">&#8230;</span><div class="read-more"><a href="http://psychic-vr-lab.com/blog/unity/final-ik%e3%82%a2%e3%82%bb%e3%83%83%e3%83%88%e3%81%a7unity%e3%81%a1%e3%82%83%e3%82%93%e3%82%92%e5%90%8a%e3%82%8b%e3%81%97%e3%81%a6%e8%a7%a6%e3%82%8b/">続きを読む &#8250;</a></div><!-- end of .read-more -->]]></description>
				<content:encoded><![CDATA[<p>今日はInverse Kinematics (IK)を使って、ユニティちゃんを上からぶら下げてみたいと思います。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/FinalIK9.png"><img class="alignnone size-full wp-image-198" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/FinalIK9.png" alt="FinalIK9" width="1045" height="840" /></a></p>
<p>&nbsp;</p>
<blockquote><p>Inverse Kinematics (IK)とは<br />
引用元：<a href="http://docs-jp.unity3d.com/Documentation/Manual/InverseKinematics.html">Unityユーザーズガイド</a></p>
<p>ジョインのポージングを行うタスクを別の視点からとらえることが重要です。空間で特定の点を決めて、そこから逆算してジョイントの向きを、終了点がその位置に到着するような、有効な方法を見つけることです。オブジェクトをユーザにより選択された点をタッチさせる、または平らでない地面に足をつける、といったことをキャラクターにしてほしいときに、これは便利です。このアプローチは Inverse Kinematics (IK)と呼ばれ、メカニムで 正しく設定されたアバターのある ヒューマノイド キャラクターにおいてサポートされます。</p>
<p>&nbsp;</p></blockquote>
<p>Unity Proではスクリプトを使いIKを実現することができます。<br />
<a href="http://docs-jp.unity3d.com/Documentation/Manual/InverseKinematics.html">インバースキネマティクス (Unity Proのみ) / Inverse Kinematics (Pro only)</a></p>
<p>今回は<a href="http://u3d.as/content/root-motion/final-ik/6ec">Final IKアセット</a>を使って遊んでみましょう。</p>
<p><span id="more-189"></span></p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/FinalIK1.png"><img class="alignnone size-full wp-image-190" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/FinalIK1.png" alt="Final IKアセット" width="814" height="431" /></a></p>
<p>&nbsp;</p>
<p>Final IKでどういったことができるかはこちらのデモビデオを見てみましょう。ワクワクします。</p>
<p><span class='embed-youtube' style='text-align:center; display: block;'><iframe class='youtube-player' type='text/html' width='605' height='371' src='http://www.youtube.com/embed/mNvtZCboy7w?version=3&#038;rel=1&#038;fs=1&#038;showsearch=0&#038;showinfo=1&#038;iv_load_policy=1&#038;wmode=transparent' frameborder='0' allowfullscreen='true'></iframe></span></p>
<p>&nbsp;</p>
<p>Final IKを利用して実に様々なことを簡単に実現することができるのですが、今回はDemoシーンを改造して、Unityちゃんを上から吊るすことを実現してみたいと思います。</p>
<p>_DEMOS &#8211; FBBIKフォルダ内のPendulumシーンを開いて実行してみましょう。お人形さんがぶら下がっている動きを確認できると思います。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/FinalIK2.png"><img class="alignnone size-full wp-image-191" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/FinalIK2.png" alt="FinalIK2" width="1351" height="983" /></a></p>
<p>このサンプルは面白い実装をしていて、モデル本体の動きをぶら下げたラグドールの動きに追従させることで、ボクシングしながらぶら下がるアニメーションなどを実現しています。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/FinalIK3.png"><img class="alignnone size-full wp-image-192" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/FinalIK3.png" alt="FinalIK3" width="230" height="333" /></a></p>
<p>&nbsp;</p>
<p>（ラグドールの一部をIs Kinematicで固定するという実装も試してみたのですが、力を加えると体が伸びたりしてしまいます。なにか解決方法あるのだろうか。。。）</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/FinalIK5.png"><img class="alignnone size-full wp-image-194" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/FinalIK5.png" alt="FinalIK5" width="289" height="280" /></a></p>
<p>今回は本体のモデルをUnityちゃんに置き換える方法でUnityちゃんを吊るしてみましょう。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/FinalIK4.png"><img class="alignnone size-full wp-image-193" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/FinalIK4.png" alt="FinalIK4" width="505" height="307" /></a></p>
<p>&nbsp;</p>
<p>Dummyモデルを削除し、unitychan_dynamicをインポートし、下記の画像のように設定を変更します。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/FinalIK6.png"><img class="alignnone size-full wp-image-195" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/FinalIK6.png" alt="FinalIK6" width="1421" height="913" /></a></p>
<p>実行するとユニティーちゃんがぶら下がるのが確認できると思います。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/FinalIK7.png"><img class="alignnone size-full wp-image-196" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/FinalIK7.png" alt="FinalIK7" width="285" height="284" /></a></p>
<p>半透明のDummyを消すにはDummyRagdoll以下のDummyオブジェクトのSkinned Mesh Rendererのチェックを外しましょう。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/FinalIK8.png"><img class="alignnone size-full wp-image-197" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/FinalIK8.png" alt="FinalIK8" width="1103" height="419" /></a></p>
<p>Leap motionを使って触ってみましょう。</p>
<p>&nbsp;</p>
<p><span class='embed-youtube' style='text-align:center; display: block;'><iframe class='youtube-player' type='text/html' width='605' height='371' src='http://www.youtube.com/embed/CzHTijGNyQM?version=3&#038;rel=1&#038;fs=1&#038;showsearch=0&#038;showinfo=1&#038;iv_load_policy=1&#038;wmode=transparent' frameborder='0' allowfullscreen='true'></iframe></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
]]></content:encoded>
			<wfw:commentRss>http://psychic-vr-lab.com/blog/unity/final-ik%e3%82%a2%e3%82%bb%e3%83%83%e3%83%88%e3%81%a7unity%e3%81%a1%e3%82%83%e3%82%93%e3%82%92%e5%90%8a%e3%82%8b%e3%81%97%e3%81%a6%e8%a7%a6%e3%82%8b/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>あなただけのために見つめて歌ってくれるユニティちゃんCandy Rock Starライブの作り方 with Oculus</title>
		<link>http://psychic-vr-lab.com/blog/unity/%e3%83%a6%e3%83%8b%e3%83%86%e3%82%a3%e3%81%a1%e3%82%83%e3%82%93candy-rock-star-live-with-oculus/</link>
		<comments>http://psychic-vr-lab.com/blog/unity/%e3%83%a6%e3%83%8b%e3%83%86%e3%82%a3%e3%81%a1%e3%82%83%e3%82%93candy-rock-star-live-with-oculus/#comments</comments>
		<pubDate>Thu, 06 Nov 2014 05:07:20 +0000</pubDate>
		<dc:creator><![CDATA[from2001]]></dc:creator>
				<category><![CDATA[Oculus]]></category>
		<category><![CDATA[Unity]]></category>

		<guid isPermaLink="false">http://psychic-vr-lab.com/blog/?p=96</guid>
		<description><![CDATA[ユニティちゃんのLiveプロジェクトが公開され、さわって遊んでUnityの楽しさを更に味わえるようになりました。 また、このLive 『Candy Rock Star』のデータを利用した動画・ゲームなどのコンテストが開催<span class="ellipsis">&#8230;</span><div class="read-more"><a href="http://psychic-vr-lab.com/blog/unity/%e3%83%a6%e3%83%8b%e3%83%86%e3%82%a3%e3%81%a1%e3%82%83%e3%82%93candy-rock-star-live-with-oculus/">続きを読む &#8250;</a></div><!-- end of .read-more -->]]></description>
				<content:encoded><![CDATA[<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/あなただけ.png"><img class="alignnone size-full wp-image-110" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/あなただけ.png" alt="あなただけ" width="1121" height="650" /></a></p>
<p>ユニティちゃんのLiveプロジェクトが公開され、さわって遊んでUnityの楽しさを更に味わえるようになりました。</p>
<p>また、このLive 『Candy Rock Star』のデータを利用した動画・ゲームなどのコンテストが開催されています。</p>
<p>特設サイトはこちら：　<a href="http://unity-chan.com/contents/event/director-cup/">ユニティちゃんディレクター杯｜UNITY-CHAN DIRECTOR CUP</a></p>
<p><span id="more-96"></span></p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live1.png"><img class="alignnone size-full wp-image-97" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live1.png" alt="live1" width="1179" height="282" /></a></p>
<p>&nbsp;</p>
<p>さて、このLive、かなり迫力のあるプロジェクトなのですが、Oculusを使ってライブ会場の臨場感を味わいながら、ユニティちゃんがあなただけを見つめて歌ってくれるように改造してみましょう。しかも、あなたはステージ最前列かぶりつきでユニティちゃんを独占しちゃいます。</p>
<p>参考にさせていただいたサイト。ありがとうございます。</p>
<ul>
<li><a href="http://tsubakit1.hateblo.jp/entry/2014/11/05/235140">ユニティちゃんライブ公開！とりあえず役立ちそうな情報とか、入手方法とかまとめてる：テラシュールブログ</a></li>
<li><a href="http://dvorak.hatenablog.com/entry/2014/08/24/230302">Unityでキャラクターに見つめてもらう：銀の弾丸、はじめました</a></li>
<li><a href="http://blogs.unity3d.com/2009/07/10/just-looking-around/">JUST LOOKING AROUND</a></li>
</ul>
<p>&nbsp;</p>
<p>まずは、<a href="http://unity-chan.com/download/guideline.html">Unity-Chan公式サイトのダウンロードページから</a>『Candy Rock Star』のプロジェクトファイルをダウンロードしましょう。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live2.png"><img class="alignnone size-full wp-image-98" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live2.png" alt="live2" width="1022" height="729" /></a></p>
<p>続いて、必要プラグインをダウンロードしてインポートしておきます。<br />
必要なプラグインは下記の2つ。</p>
<ul>
<li><a href="https://developer.oculusvr.com/">Oculus SDK &#8211; Unity 4 Integration</a> (要アカウントログイン)</li>
<li><a href="https://www.assetstore.unity3d.com/jp/#!/content/4">Head Look Controllerアセット(無料)</a></li>
</ul>
<p>&nbsp;</p>
<p>これから修正を加える概要はこんなかんじです。</p>
<p>&nbsp;</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live12.png"><img class="alignnone size-full wp-image-109" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live12.png" alt="live12" width="1897" height="776" /></a></p>
<p>プロジェクトを開いて、Mainシーンを読み込んでもらえればわかるのですが、ヒエラルキービューにはユニティちゃんもステージも表示されません。これは、スクリプトから動的に各プレハブをインスタンス化しているためです。各オブジェクトを編集するためにはプレハブを編集し、変更をプレハブに適用する必要があります。（この概念がわかるとあとはスムーズに行くと思います）</p>
<p>ユニティちゃんのプレハブ「CandyRockStar」を編集するために、新しいシーンを作成し、<br />
プロジェクトビュー内の「Assets」-「UnityChan」-「Prefab」内のCandyRockStarをヒエラルキービューにドラッグします。<br />
仮にこのシーンは「TempScene1」とでも名付け保存しておいてください。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live4.png"><img class="alignnone size-full wp-image-100" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live4.png" alt="live4" width="1305" height="941" /></a></p>
<p>&nbsp;</p>
<p>では、CandyRockStarプレハブに修正を加えていきましょう。<br />
まずは、ユニティちゃんの視点の先を変更するスクリプトをアタッチします。<br />
ヒエラルキービュー内の「CandyRockStar」に対して、「Assets」-「Head Look Controller」-「Scripts」内の&#8217;Head Look Controller&#8217;スクリプトをアタッチし、下記を参考にプロパティの設定を行います。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live5.png"><img class="alignnone size-full wp-image-101" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live5.png" alt="live5" width="946" height="957" /></a></p>
<p>次に、ユニティちゃんが見つめる先のターゲットを追加し、スクリプトをアタッチします。</p>
<p>ヒエラルキービューでSphereを追加し、「Assets」-「Head Look Controller」-「Scripts」内の&#8217;CusorHitr&#8217;スクリプトをアタッチし、下記を参考にプロパティの設定を行います。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live6.png"><img class="alignnone size-full wp-image-102" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live6.png" alt="live6" width="1346" height="757" /></a></p>
<p>プロパティの設定が終わったら先ほど追加したSphereの名前を「LookupTarget」に変更してCandyRockStarの子オブジェクトになるように移動しましょう。これで、このLookupTargetはCandyRockStarプレハブの一部になります。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live7.png"><img class="alignnone size-full wp-image-103" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live7.png" alt="live7" width="340" height="253" /></a></p>
<p>&nbsp;</p>
<p>実行して、SceneビューでLookup Targetを移動してみましょう。ユニティちゃんが踊りながらターゲットの方に顔を向けることを確認できると思います。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live9.png"><img class="alignnone size-full wp-image-105" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live9.png" alt="live9" width="555" height="356" /></a></p>
<p>では、この変更がMainシーンにも反映されるようにしましょう。</p>
<p>ヒエラルキービューでCandyRockStarを選択した状態で「GameObject」メニュー内の「Apply Changes To Prefab」を選択し、プレハブへの変更を適用します。これで、このプレハブを呼び出す全てのシーンにこのプレハブの変更が反映されるようになります。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live8.png"><img class="alignnone size-full wp-image-104" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live8.png" alt="live8" width="451" height="427" /></a></p>
<p>&nbsp;</p>
<p>続いて、Oculusの設定に移ります。</p>
<p>「Assets」-「Scenes」内のMainシーンを開きましょう。このシーンにはほとんど何も含まれていませんが、実行するとスクリプトから各プレハブがインスタンス化され表示されます。</p>
<p>ヒエラルキービューにOculusカメラを追加しましょう。「Assets」-「OVR」-「Prefabs」内の&#8217;OVRCameraController&#8217;をヒエラルキービューにドラッグします。<br />
追加後、下記を参考にプロパティを設定します。これだけでOculusでの利用が可能になります。</p>
<p>&nbsp;</p>
<p>追記2014/11/06<br />
Oculus SDK 0.4.3からOVRCameraControllerの名称がOVRCameraRigに変更になりました。SDK 0.4.3以降を利用している方は読み替えてください。<br />
ようてん<a href="https://twitter.com/youten_redo">@youten_redo</a> さんご指摘ありがとうございました。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live10.png"><img class="alignnone size-full wp-image-106" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live10.png" alt="live10" width="1346" height="828" /></a></p>
<p>続いて、CandyRockStarに追加した視点の先「LookupTarget」の座標をOculusカメラの位置に移動するようにしましょう。<br />
新しいスクリプトを作成しUpdate()関数内で座標の移動を行います。LookupTargetの座標はプレハブ内でユニティちゃんに対して相対的に設定されているためユニティちゃんが動くとそれに合わせてLookupTargetの位置も移動してしまいます。ですのでStart()内ではなくUpdate()関数内で毎回座標を変更してあげるようにしましょう。</p>
<p>新しいC#スクリプトを「UpdateLookupTarget」という名前で作成します。作成したらOVRCameraControllerにアタッチします。</p>
<p>&nbsp;</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live11.png"><img class="alignnone size-full wp-image-107" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/live11.png" alt="live11" width="1141" height="905" /></a></p>
<p>UpdateLookupTargetスクリプトをダブルクリックし下記のように変更します。</p><pre class="crayon-plain-tag">using UnityEngine;
using System.Collections;

public class UpdateLookupTarget : MonoBehaviour {

	// Use this for initialization
	void Start () {
	
	}
	
	// Update is called once per frame
	void Update () {
	
		GameObject.Find ("LookupTarget").transform.position = transform.position;

	}
}</pre><p>&nbsp;</p>
<p>これで完成。ユニティちゃんがずっとあなたを見つめ、あなただけのために歌ってくれます。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/あなただけ２.png"><img class="alignnone size-full wp-image-111" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/あなただけ２.png" alt="あなただけ２" width="1127" height="653" /></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div><img src="http://unity-chan.com/images/imageLicenseLogo.png" alt="ユニティちゃんライセンス" />このコンテンツは、『<a href="http://unity-chan.com/download/license.html" target="_blank">ユニティちゃんライセンス</a>』で提供されています</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
]]></content:encoded>
			<wfw:commentRss>http://psychic-vr-lab.com/blog/unity/%e3%83%a6%e3%83%8b%e3%83%86%e3%82%a3%e3%81%a1%e3%82%83%e3%82%93candy-rock-star-live-with-oculus/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Oculus使用時に第三者視点のカメラを別ウィンドウで表示する(OVRMirrorプラグイン)</title>
		<link>http://psychic-vr-lab.com/blog/unity/oculus%e4%bd%bf%e7%94%a8%e6%99%82%e3%81%ab%e7%ac%ac%e4%b8%89%e8%80%85%e8%a6%96%e7%82%b9%e3%81%ae%e3%82%ab%e3%83%a1%e3%83%a9%e3%82%92%e5%88%a5%e3%82%a6%e3%82%a3%e3%83%b3%e3%83%89%e3%82%a6%e3%81%a7/</link>
		<comments>http://psychic-vr-lab.com/blog/unity/oculus%e4%bd%bf%e7%94%a8%e6%99%82%e3%81%ab%e7%ac%ac%e4%b8%89%e8%80%85%e8%a6%96%e7%82%b9%e3%81%ae%e3%82%ab%e3%83%a1%e3%83%a9%e3%82%92%e5%88%a5%e3%82%a6%e3%82%a3%e3%83%b3%e3%83%89%e3%82%a6%e3%81%a7/#comments</comments>
		<pubDate>Sun, 02 Nov 2014 11:48:26 +0000</pubDate>
		<dc:creator><![CDATA[from2001]]></dc:creator>
				<category><![CDATA[Unity]]></category>
		<category><![CDATA[Oculus]]></category>

		<guid isPermaLink="false">http://psychic-vr-lab.com/blog/?p=69</guid>
		<description><![CDATA[Oculus Riftを利用者が装着している際に、その状況を別視点からPCモニタで確認しておきたいシナリオは意外と多いような気がします。 NoraさんがOVRMirrorというプラグインを開発されたようですので紹介させて<span class="ellipsis">&#8230;</span><div class="read-more"><a href="http://psychic-vr-lab.com/blog/unity/oculus%e4%bd%bf%e7%94%a8%e6%99%82%e3%81%ab%e7%ac%ac%e4%b8%89%e8%80%85%e8%a6%96%e7%82%b9%e3%81%ae%e3%82%ab%e3%83%a1%e3%83%a9%e3%82%92%e5%88%a5%e3%82%a6%e3%82%a3%e3%83%b3%e3%83%89%e3%82%a6%e3%81%a7/">続きを読む &#8250;</a></div><!-- end of .read-more -->]]></description>
				<content:encoded><![CDATA[<p>Oculus Riftを利用者が装着している際に、その状況を別視点からPCモニタで確認しておきたいシナリオは意外と多いような気がします。</p>
<p>NoraさんがOVRMirrorというプラグインを開発されたようですので紹介させてください。</p>
<blockquote class="twitter-tweet" width="550"><p>OVRMirrorをリリースしました。任意のカメラ(RenderTexture)を別ウィンドウにリアルタイム描画するためのプラグインです。DirectX11 + Unity Pro専用です。<a href="http://t.co/mLSrjixmSE">http://t.co/mLSrjixmSE</a> <a href="http://t.co/aJn7kEmRZP">pic.twitter.com/aJn7kEmRZP</a></p>
<p>&mdash; Nora (@Stereoarts) <a href="https://twitter.com/Stereoarts/status/528540755829063680">November 1, 2014</a></p></blockquote>
<p><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></p>
<p>&nbsp;</p>
<p>まずは、Oculusカメラがセットされているプロジェクトを読み込みます。私の場合、コントローラーで動かせるユニティーちゃんにOculusカメラをセットしたサンプルプロジェクトを用意しました。<br />
（名前にOVRとついていますが、このプラグインはOculusを利用しないプロジェクトでも利用可能です。別ウィンドウで別カメラの情報を表示することを目的としたプラグインです。）</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/ovr4.png"><img class="alignnone size-full wp-image-71" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/ovr4.png" alt="ovr4" width="1156" height="641" /></a></p>
<p><span id="more-69"></span></p>
<p>コンパイルした実行ファイルではユニティーちゃんの様子を確認することができません。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/ovr5.png"><img class="alignnone size-full wp-image-72" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/ovr5.png" alt="ovr5" width="1920" height="1080" /></a></p>
<p>第三者視点のカメラを追加して別ウィンドウで確認できるようにしましょう。</p>
<p>OVRMirror.unitypackage　をプロジェクトにインポートします。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/ovr1.png"><img class="alignnone size-full wp-image-70" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/ovr1.png" alt="ovr1" width="452" height="389" /></a></p>
<p>新しくRender Textureを作成します。名前は何でも構いません。Sizeプロパティで指定したサイズのカメラ映像が作成されます。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/ovr8.png"><img class="alignnone size-full wp-image-75" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/ovr8.png" alt="ovr8" width="761" height="760" /></a></p>
<p>&nbsp;</p>
<p>別ウィンドウで表示したい第三者視点のカメラを設置します。<br />
カメラについているAudio Listenerはチェックを外すか削除しましょう。Target Textureに先ほど作成したRender Textureを設置します。<br />
&#8211; overwriteViewportRect をチェックすると, ウィンドウサイズに応じて ViewportRect を調整します。とのこと</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/ovr9.png"><img class="alignnone size-full wp-image-77" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/ovr9.png" alt="ovr9" width="1268" height="982" /></a></p>
<p>&nbsp;</p>
<p>実行すると、先ほど設置したカメラからの映像が別ウィンドウで表示されます。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/ovr7.png"><img class="alignnone size-full wp-image-74" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/11/ovr7.png" alt="ovr7" width="1440" height="759" /></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
]]></content:encoded>
			<wfw:commentRss>http://psychic-vr-lab.com/blog/unity/oculus%e4%bd%bf%e7%94%a8%e6%99%82%e3%81%ab%e7%ac%ac%e4%b8%89%e8%80%85%e8%a6%96%e7%82%b9%e3%81%ae%e3%82%ab%e3%83%a1%e3%83%a9%e3%82%92%e5%88%a5%e3%82%a6%e3%82%a3%e3%83%b3%e3%83%89%e3%82%a6%e3%81%a7/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Unityシーン中でマイクでのリアルタイム録音をストリーム再生する</title>
		<link>http://psychic-vr-lab.com/blog/unity/%e3%82%b7%e3%83%bc%e3%83%b3%e4%b8%ad%e3%81%a7%e3%83%9e%e3%82%a4%e3%82%af%e3%81%a7%e3%81%ae%e3%83%aa%e3%82%a2%e3%83%ab%e3%82%bf%e3%82%a4%e3%83%a0%e9%8c%b2%e9%9f%b3%e3%82%92%e3%82%b9%e3%83%88%e3%83%aa/</link>
		<comments>http://psychic-vr-lab.com/blog/unity/%e3%82%b7%e3%83%bc%e3%83%b3%e4%b8%ad%e3%81%a7%e3%83%9e%e3%82%a4%e3%82%af%e3%81%a7%e3%81%ae%e3%83%aa%e3%82%a2%e3%83%ab%e3%82%bf%e3%82%a4%e3%83%a0%e9%8c%b2%e9%9f%b3%e3%82%92%e3%82%b9%e3%83%88%e3%83%aa/#comments</comments>
		<pubDate>Wed, 29 Oct 2014 08:08:42 +0000</pubDate>
		<dc:creator><![CDATA[from2001]]></dc:creator>
				<category><![CDATA[Unity]]></category>
		<category><![CDATA[Oculus]]></category>

		<guid isPermaLink="false">http://psychic-vr-lab.com/blog/?p=46</guid>
		<description><![CDATA[Oculus＋ヘッドフォンを利用している利用者などに、外部から入力したマイクでのアナウンス音声をリアルタイムにシーン中でストリーミング再生するシナリオを実現します。 Mic Controlアセットを使って実現しましょう。<span class="ellipsis">&#8230;</span><div class="read-more"><a href="http://psychic-vr-lab.com/blog/unity/%e3%82%b7%e3%83%bc%e3%83%b3%e4%b8%ad%e3%81%a7%e3%83%9e%e3%82%a4%e3%82%af%e3%81%a7%e3%81%ae%e3%83%aa%e3%82%a2%e3%83%ab%e3%82%bf%e3%82%a4%e3%83%a0%e9%8c%b2%e9%9f%b3%e3%82%92%e3%82%b9%e3%83%88%e3%83%aa/">続きを読む &#8250;</a></div><!-- end of .read-more -->]]></description>
				<content:encoded><![CDATA[<p>Oculus＋ヘッドフォンを利用している利用者などに、外部から入力したマイクでのアナウンス音声をリアルタイムにシーン中でストリーミング再生するシナリオを実現します。</p>
<p><a href="https://www.assetstore.unity3d.com/jp/#!/content/12518">Mic Controlアセット</a>を使って実現しましょう。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/10/mic1.png"><img class="alignnone size-full wp-image-47" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/10/mic1.png" alt="mic1" width="810" height="555" /></a></p>
<p>アセットをダウンロードし、インポートします。</p>
<p>空のGameObjectを作成し、「Assets」-「MicControl」-「Javascript version(Original)」内にあるMicControlスクリプトを先ほど作成した空のGameObjectにアタッチします。<br />
Muteプロパティのチェックを外します。</p>
<p><a href="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/10/mic2.png"><img class="alignnone size-full wp-image-48" src="http://psychic-vr-lab.com/blog/wp-content/uploads/2014/10/mic2.png" alt="mic2" width="1545" height="954" /></a></p>
<p>再生してみましょう。</p>
<p>マイク（パソコンにつながっている物理的なマイク）から入力した音声がスピーカーから聞こえるはずです。ハウリングするのでイヤホンをつけて試してみましょう。</p>
<p><span id="more-46"></span></p>
<p>さて、ここでMicControlを追加したオブジェクト自体はスピーカーのマークが表示され、シーン内の場所を移動することができます。ただ、残念なことにこのMicControlは3Dオーディオには対応していないために、音源の場所を変更しても左右のスピーカーから聞こえる音は変化しません。</p>
<p>Mic Controlの作者である<a href="http://markduisters.blogspot.be/p/what-is-alzheimer-studio.html">Alzheimer StudioのMark Duisters</a>に3Dオーディオオプションつけてよとメールしてみたところ、快くOKのお返事頂きました。時間ができたら実装してアップデートしていただけるとのこと。素晴らしい。</p>
<p>&nbsp;</p>
<p>ちなみに、MarkはJS版の開発を行っていて、C#版はコミュニティのメンバーが移植してくれているらしいです。</p>
<p>&nbsp;</p>
<p>Mic Controlでは、Exampleも同梱されてて、そこでは、マイク入力音声の大きさを取得するサンプルが紹介されています。。</p>
<p>JavaScriptコードを下記のように作成し、例えばCUBEにアタッチすると声の大きさに合わせてCUBEのサイズが変化します。</p><pre class="crayon-plain-tag">function Update () {
	//scales the gameObject heigt based on input stream gathered from MicControl.loudness
	transform.localScale=Vector3(1,MicControl.loudness,1);
}</pre><p>&nbsp;</p>
<p>追記　2014/10/30</p>
<p>Markにメールして10時間後に3Dオーディオオプション実装したよ！と返信もらいました。早い！！<br />
今週末にはAsset Storeに反映される予定だそうです。チュートリアルビデオはもう作成されたようです。</p>
<p><span class='embed-youtube' style='text-align:center; display: block;'><iframe class='youtube-player' type='text/html' width='605' height='371' src='http://www.youtube.com/embed/pD29teWi2fg?version=3&#038;rel=1&#038;fs=1&#038;showsearch=0&#038;showinfo=1&#038;iv_load_policy=1&#038;wmode=transparent' frameborder='0' allowfullscreen='true'></iframe></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
]]></content:encoded>
			<wfw:commentRss>http://psychic-vr-lab.com/blog/unity/%e3%82%b7%e3%83%bc%e3%83%b3%e4%b8%ad%e3%81%a7%e3%83%9e%e3%82%a4%e3%82%af%e3%81%a7%e3%81%ae%e3%83%aa%e3%82%a2%e3%83%ab%e3%82%bf%e3%82%a4%e3%83%a0%e9%8c%b2%e9%9f%b3%e3%82%92%e3%82%b9%e3%83%88%e3%83%aa/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
	</channel>
</rss>
